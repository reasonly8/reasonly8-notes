在 utf-8 中，字符的编码长度是可变的，这对字符的持续收录有帮助，在编码时不能获取到一些字符的真实字节长度，比如英文字母占 1 个字节，常用中文占 3 个字节，生僻汉字占 4 个字节等。

所以，要想获取一个字符串的真实字节占用，需要使用一些特殊的方法，而不是 `'你好'.length`。

```ts
const encoder = new TextEncoder();
const utf8Bytes1 = encoder.encode("𠮷");
console.log(utf8Bytes1); // 4

const utf8Bytes2 = encoder.encode("吉");
console.log(utf8Bytes2); // 3
```

在 Node 环境下，获取字符所占字节长度，可以用 Buffer 对象：

```ts
const str = "你好";
const byteLength = Buffer.byteLength(str, "utf-8");
console.log(byteLength); // 输出 6
```
