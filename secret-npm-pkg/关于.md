项目地址：[secret-npm-pkg](https://github.com/reasonly8/secret-npm-pkg)

## 解决了什么问题？

我在 Github 上有个 Private 的仓库，里面存了我的各种私密数据，比如密码、密钥等。但我不想将它们明文存储，不然如果有人盗用了我的 GitHub 账号，那就全都泄露了。

所以我想将这些私密数据进行加密，然后再存到 GitHub 仓库中。

我准备用 RSA 进行非对称加密，密钥存在我自己的 U 盘里随身携带，然后家里也放一个，算是“灾备”。

现在问题来了，我该怎样方便地对数据进行加解密？

我的想法是这样的：发布一个 npm 包，包名叫：`@reasonly8/secret`，这个包提供一个命令行工具，名字叫 `secret`，通过操作命令行，实现对数据的加密和解密。

为了不对私钥进行复制粘贴操作，我打算将它存放在一个专门的 U 盘中，私钥的存放位置和命名都提前约定好，然后通过 `secret` 命令行工具直接读取。

对于公钥，我准备也放在 U 盘中，因为我没有在远程主机上进行加密的需求，所有操作都是在本地。

## 功能设计

下面设计一下这个包的使用方法：

```sh
# 1. 全局安装
npm i -g @reasonly8/secret

# 2. 通过打印版本号，检查是否安装成功
secret --version

# 3. 加密
secret -e aaa..

# 4. 解密
secret -d bbb..

# 5. 第 4 步解密操作最频繁，所以提供一个快捷命令用来记录历史密文
secret -s xx -d bbb..

# 后续就可以用这个进行解密：
secret -n xx

# 6. 列出所有解密历史的 name
secret -l
```

## 技术栈

TypeScript + yargs + rollup。

rollup 主要用来压缩，其实不用也可以，因为用 tsc 编译后的代码可以直接在 node 环境中运行。
